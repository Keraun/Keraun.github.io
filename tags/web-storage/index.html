
<!DOCTYPE html>
<html lang="zh-Hans">
<head>
	<meta charset="UTF-8">
	<meta name="generator" content="hexo">
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no">
	<meta name="author" content="iwuly">
	
        <link rel="icon" href="/static/images/favicon.png">
    
    
    
    
	<title>iwulyの前端小站</title>
	<link rel="stylesheet" href="/static/css/style.css" type="text/css">
</head>
<body>



<nav  id="sidebar" class=" behavior_2">
    <div class="wrap">
    	
    		<div class="profile">
    			<a href="/"><img src="/static/images/gravatar.jpg" alt="iwuly"></a>
    			<span>iwuly</span>
    		</div>
    	
    	
    		<ul class="buttons">
    			
    				<li>
                        <a  class="" href="/">
                            
                                <i class="iconfont icon-home" title="首页"></i>
                            
                            <span>首页</span>
                        </a>
                    </li>
    			
    				<li>
                        <a  class="" href="/archive/">
                            
                                <i class="iconfont icon-archive" title="归档"></i>
                            
                            <span>归档</span>
                        </a>
                    </li>
    			
    				<li>
                        <a  class="" href="/tags/">
                            
                                <i class="iconfont icon-tags" title="标签"></i>
                            
                            <span>标签</span>
                        </a>
                    </li>
    			
    				<li>
                        <a  class="" href="/about/">
                            
                                <i class="iconfont icon-user" title="关于"></i>
                            
                            <span>关于</span>
                        </a>
                    </li>
    			
    				<li>
                        <a  class="" href="/links/">
                            
                                <i class="iconfont icon-link" title="友链"></i>
                            
                            <span>友链</span>
                        </a>
                    </li>
    			
    		</ul>
    	
    		<ul class="buttons">
    			
    				<li>
                        <a  target="_blank"  class="" href="http://iwuly.github.io/snippets">
                            
                                <i class="iconfont icon-stackoverflow" title="Demo"></i>
                            
                            <span>Demo</span>
                        </a>
                    </li>
    			
    				<li>
                        <a  target="_blank"  class="" href="https://github.com/iwuly">
                            
                                <i class="iconfont icon-github" title="GitHub"></i>
                            
                            <span>GitHub</span>
                        </a>
                    </li>
    			
    		</ul>
    	
    		<ul class="buttons">
    			
    				<li>
                        <a  class="" href="/atom.xml">
                            
                                <i class="iconfont icon-rss" title="RSS"></i>
                            
                            <span>RSS</span>
                        </a>
                    </li>
    			
    		</ul>
    	
    </div>
</nav>


<div id="main">
    
<div id="header">
	<div class="btn-bar"><i></i></div>
	<h1><a href="/">iwulyの前端小站</a></h1>
	<a class="me" href="/about/">
        <img src="/static/images/gravatar.jpg" alt="iwuly" alt="iwuly">
    </a>
</div>
<div id="sidebar-mask"></div>
    <div class="wrap">
        <section id="page-index">
            
                <h1 class="search">标签<b>web storage</b>的搜索结果</h1>
            
            
                
                <article data-url='/2015/05/10/web-storage/'>
                    <div class="meta">
                        <div class="date">
                            
                                May 10 , 2015
                            
                        </div>
                        <div class="tags">
                            
                                
                                <a  href="/tags/local storage" data-tag="local storage">
                                    local storage
                                </a>
                            
                                
                                     , 
                                
                                <a  href="/tags/session storage" data-tag="session storage">
                                    session storage
                                </a>
                            
                                
                                     , 
                                
                                <a  href="/tags/web storage" data-tag="web storage">
                                    web storage
                                </a>
                            
                        </div>
                    </div>
                    <h1>
                        
                            <a href="/2015/05/10/web-storage/" >
                                Study notes: 本地存储和离线存储
                            </a>
                        
                    </h1>
                    
                    <div class="desc">
                        
                            认识web storageweb storage(web 存储)提供了一种方式，可以让web页面实现在客户端浏览器中以一键值对的形式在本地保存数据。在了解HTMl5的web存储之前，先来回顾一下HTML4中使用的Cookies。
Cookie存储机制的优缺点Cookie是HTML4中在客户端存储简单用户信息的一种方式，它使用文本来存储信息，当有应用程序使用Cookie时，服务器端就会发送Cookie到客户端，客户端浏览器将保存改信息。下一次页面请求时，客户端浏览器就会把Cookies发送到服务器。Cookies最典型的应用是用来保存用户信息、用户设置、密码记忆等。
使用Cookie有其优点，也有其缺陷，其优点主要表现在以下几个方面。

简单易用
浏览器负责发送数据
浏览器自动管理不同站点的Cookie。但经过长期地使用，Cookie也越来也暴露出其先天的不足，主要有以下几点。
使用简单的文本存储数据，所以Cookie的安全性很差。Cookie保存在客户端浏览器，很容易被黑客窃取。
Cookie中存储的数据容量有限，其上限为4KB
存储Cookie的数量有限，多数浏览器上限为30或50个，而IE6只支持每个域名存储20个Cookie，也有部分浏览器存储Cookie的数量高达300个。
如果浏览器的安全配置为最高级别，则Cookie会失效。
Cookie不适合大量数据的存储，因为Cookie会由每个队服务器的请求来传递，从而造成Cookie速度缓慢效率低下。

就本地存储的大小而言，IE的userData最小也能支持640KB，IE8后已经支持DOM Storage，但是只支持IE。Flash到目前用得最多，其支持的容量为Cookie的25倍，即100KB。之后的Google推出Gears不限制容量，但是需要安装额外的插件。而HTML5现在支持的容量至少为5KB，对于本地存储而言已经足够使用，也有的浏览器会让用户自行设置。
为什么要用web storage HTML5的web storage提供了两种在客户端存储数据的方法，即localstorage和sessionStorage。 ＋ localStorage    localStorage是一种没有时间限制的数据存储方式，可以将数据保存在客户端的硬盘或其他存储器，存储时间可以是一天、两天、几周或几年，浏览器的关闭并不意味着数据也随之流失，当再次打开浏览器时，依然可以访问这些数据。localStorage用于持久化的本地存储，除非主动删除数据，否则数据时永远不会过期的。 ＋ sessionStoragesessionStorage指的是针对一个seesion的数据存储，即将数据保存在session对象中。web中的session指的是用户在浏览某个网站时，从进入网站到关闭浏览器所经过的这段时间，可以称为用户与浏览器进行交互的“会话时间”。session 对象用来保存这个时间段内所有要保存的数据，当用户关闭浏览器后，这些数据会被删除。sessionStorage用于本地存储一个会话（session）中的数据，这些数据只有在同一个会话中的页面才能访问，并且当会话结束后数据也随之销毁。因此sessionStorage 不是一种持久化的本地存储，仅仅是会话级别的存储。从以上介绍可以看出，localStorage可以永久保存数据，而sessionStroge只能暂时保存数据，这是两者之间的重要区别，在具体使用时应该注意。web storage 存储机制比传统的Cookie更大强大，弥补了Cookies的诸多缺点，主要在以下两个方面做了加强。第一，web storage 提供了易于使用的API接口，只需要设置键值即可使用，简单方便。第二，在存储容量方面可根据用户分配的磁盘配额进行存储能够在每个用户域存储5MB～10MB的内容，用户不仅可以存储session，还可以存储许多信息，如设置偏好、本地化的数据和离线数据等。web storage 还提供了JavaScript对编程的接口，开发者可以使用JavaScript客户端脚本实现许多以前只能在服务器端才能完成的工作。
web storage 的优缺点数据的本地存储一直是以本地客户端为主，因为本地客户端应用相对于web存储（web Storage）的优势显而易见。在HTML5之前，web应用的本地存储不能满足大量与复杂数据的存储的需要。HTML5在web存储方面所做的重大改进，包括支持在客户端本地建立一个数据库，这是对HTML4中的Cookie存储机制的改善和提高，其用用会越来越广泛。

存储空间：存储空间要更大。IE8下每个独立的存储空间为10M，其他浏览器实现略有不同，但都比Cookie要大很多。
服务器：存储内容不会发送到服务器。当设置了Cookies后，Cookie的内容会随着请求一并发送到服务器，这对于本地存储的数据是一种带宽浪费，而web storage 中的数据则仅仅存在于本地，不会与服务器发生任何交互。
接口：更多丰富易用的接口。web storage 提供了一套更为丰富的接口，使得数据操作更为简便。
存储空间:独立的存储空间。每个域（包括子域）都有独立的存储空间，各个存储空间是完全独立的，因此不会造成数据混乱。

web storage 的缺点主要集中在其安全性方面，具体体现在以下两点： 

浏览器会为每个域分配独立的存储空间，即脚本在域A中是无法访问域B中的存储空间的，但是浏览器缺不会检查脚本所在的域与当前域是否相同，即在域B中嵌入域A中的脚本依然可以访问域B中的数据。
存储在恩地的数据未加密而且永远不会过期，极易造成隐私泄露。
浏览器支持概述在HTML5的各项特性中，web storage的浏览器支持度是非常好的。其实目前所有主流浏览器版本都在一定程度上支持web storage。HTMl5的web storage 因其广泛的支持度而成为web应用中最安全的API之一。事实证明各浏览器在API方面的实现基本一致。存在一定的兼容性问题，但不影响正常的使用。


                        
                     </div>
                    <p class="more">
                        
                            <a href="/2015/05/10/web-storage/" >
                                阅读全文 »
                            </a>
                        
                    </p>
                </article>
            
        </section>
        
    </div>
</div>

<script src="/static/js/meizi.js" type="text/javascript"></script>
</body>
</html>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?7d8c9a345fc10798560981191ca49852";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>